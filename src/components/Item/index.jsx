import ContentLoader from 'react-content-loader';

import styles from './Item.module.scss';

function Item(props) {
  const {
    id,
    imgUrl,
    name,
    price,
    addToCart = Function.prototype,
    addToFavorite = Function.prototype,
    isLoading = false,
  } = props;

  const itemDiscount = Number(price) - (Number(price) * 5) / 100;

  return (
    <article className={styles.card}>
      {isLoading ? (
        <ContentLoader
          speed={2}
          width={265}
          height={370}
          viewBox="0 0 265 370"
          backgroundColor="#f3f3f3"
          foregroundColor="#ecebeb"
        >
          <rect x="389" y="73" rx="0" ry="0" width="0" height="1" />
          <rect x="11" y="11" rx="0" ry="0" width="241" height="241" />
          <rect x="66" y="287" rx="0" ry="0" width="135" height="21" />
          <rect x="97" y="320" rx="0" ry="0" width="32" height="16" />
          <rect x="142" y="320" rx="0" ry="0" width="43" height="15" />
        </ContentLoader>
      ) : (
        <>
          <div className={styles.cardImg}>
            <img src={imgUrl} alt={name} />
            <div className={styles.cardAction}>
              <button
                className={styles.cardActionButton}
                type="button"
                onClick={() =>
                  addToCart({ id, imgUrl, name, price, itemDiscount })
                }
              >
                <svg
                  width="25"
                  height="25"
                  viewBox="0 0 23 23"
                  fill="#151875"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M2.5 4.25C2.5 4.05109 2.57902 3.86032 2.71967 3.71967C2.86032 3.57902 3.05109 3.5 3.25 3.5H3.808C4.758 3.5 5.328 4.139 5.653 4.733C5.87 5.129 6.027 5.588 6.15 6.004C6.18327 6.00137 6.21663 6.00004 6.25 6H18.748C19.578 6 20.178 6.794 19.95 7.593L18.122 14.002C17.9581 14.5769 17.6114 15.0827 17.1343 15.4428C16.6572 15.803 16.0758 15.9979 15.478 15.998H9.53C8.92749 15.998 8.34165 15.8002 7.86252 15.4349C7.3834 15.0696 7.0375 14.557 6.878 13.976L6.118 11.204L4.858 6.956L4.857 6.948C4.701 6.381 4.555 5.85 4.337 5.454C4.128 5.069 3.96 5 3.809 5H3.25C3.05109 5 2.86032 4.92098 2.71967 4.78033C2.57902 4.63968 2.5 4.44891 2.5 4.25ZM7.573 10.84L8.324 13.579C8.474 14.121 8.967 14.498 9.53 14.498H15.478C15.7497 14.498 16.014 14.4095 16.2309 14.2458C16.4478 14.0821 16.6054 13.8523 16.68 13.591L18.417 7.5H6.585L7.559 10.787L7.573 10.84Z"
                    fill="#151875"
                  />
                  <path
                    d="M11 19C11 19.5304 10.7893 20.0391 10.4142 20.4142C10.0391 20.7893 9.53043 21 9 21C8.46957 21 7.96086 20.7893 7.58579 20.4142C7.21071 20.0391 7 19.5304 7 19C7 18.4696 7.21071 17.9609 7.58579 17.5858C7.96086 17.2107 8.46957 17 9 17C9.53043 17 10.0391 17.2107 10.4142 17.5858C10.7893 17.9609 11 18.4696 11 19ZM9.5 19C9.5 18.8674 9.44732 18.7402 9.35355 18.6464C9.25979 18.5527 9.13261 18.5 9 18.5C8.86739 18.5 8.74021 18.5527 8.64645 18.6464C8.55268 18.7402 8.5 18.8674 8.5 19C8.5 19.1326 8.55268 19.2598 8.64645 19.3536C8.74021 19.4473 8.86739 19.5 9 19.5C9.13261 19.5 9.25979 19.4473 9.35355 19.3536C9.44732 19.2598 9.5 19.1326 9.5 19Z"
                    fill="#151875"
                  />
                  <path
                    d="M18 19C18 19.5304 17.7893 20.0391 17.4142 20.4142C17.0391 20.7893 16.5304 21 16 21C15.4696 21 14.9609 20.7893 14.5858 20.4142C14.2107 20.0391 14 19.5304 14 19C14 18.4696 14.2107 17.9609 14.5858 17.5858C14.9609 17.2107 15.4696 17 16 17C16.5304 17 17.0391 17.2107 17.4142 17.5858C17.7893 17.9609 18 18.4696 18 19ZM16.5 19C16.5 18.8674 16.4473 18.7402 16.3536 18.6464C16.2598 18.5527 16.1326 18.5 16 18.5C15.8674 18.5 15.7402 18.5527 15.6464 18.6464C15.5527 18.7402 15.5 18.8674 15.5 19C15.5 19.1326 15.5527 19.2598 15.6464 19.3536C15.7402 19.4473 15.8674 19.5 16 19.5C16.1326 19.5 16.2598 19.4473 16.3536 19.3536C16.4473 19.2598 16.5 19.1326 16.5 19Z"
                    fill="#151875"
                  />
                </svg>
              </button>
              <button
                className={styles.cardActionButton}
                type="button"
                onClick={() => addToFavorite({ id, imgUrl, name })}
              >
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 16 16"
                  fill="#151875"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M13.4399 3.07329C12.7321 2.3653 11.7937 1.93484 10.7953 1.86021C9.79701 1.78558 8.80505 2.07173 7.99986 2.66662C7.15163 2.03572 6.09585 1.74963 5.04514 1.86598C3.99442 1.98233 3.02682 2.49248 2.33717 3.29368C1.64753 4.09488 1.28707 5.12764 1.32839 6.18397C1.36971 7.2403 1.80974 8.24174 2.55986 8.98662L7.52652 13.9533C7.5885 14.0158 7.66223 14.0654 7.74347 14.0992C7.82471 14.1331 7.91185 14.1505 7.99986 14.1505C8.08787 14.1505 8.175 14.1331 8.25624 14.0992C8.33748 14.0654 8.41122 14.0158 8.47319 13.9533L13.4399 8.98662C13.8283 8.59844 14.1364 8.13752 14.3467 7.6302C14.5569 7.12288 14.6651 6.57911 14.6651 6.02996C14.6651 5.4808 14.5569 4.93703 14.3467 4.42971C14.1364 3.92239 13.8283 3.46147 13.4399 3.07329ZM12.4999 8.04662L7.99986 12.54L3.49986 8.04662C3.10331 7.64842 2.83317 7.14199 2.72334 6.59085C2.61351 6.03971 2.66888 5.46841 2.88249 4.94862C3.09611 4.42883 3.45846 3.98369 3.92409 3.66904C4.38972 3.35439 4.9379 3.18425 5.49986 3.17996C6.2506 3.1818 6.96992 3.48151 7.49986 4.01329C7.56183 4.07578 7.63557 4.12537 7.71681 4.15922C7.79805 4.19306 7.88518 4.21049 7.97319 4.21049C8.0612 4.21049 8.14834 4.19306 8.22958 4.15922C8.31082 4.12537 8.38455 4.07578 8.44652 4.01329C8.99207 3.54055 9.69685 3.29272 10.4182 3.31997C11.1396 3.34723 11.8237 3.64752 12.332 4.16008C12.8403 4.67264 13.1349 5.35918 13.1562 6.08075C13.1774 6.80232 12.9238 7.50502 12.4465 8.04662H12.4999Z"
                    fill="#151875"
                  />
                </svg>
              </button>
            </div>
          </div>
          <h3 className={styles.cardTitle}>{name}</h3>
          <div className={styles.cardPrice}>
            <span className={styles.cardNewPrice}>${itemDiscount}</span>
            <span className={styles.cardOldPrice}>${price}</span>
          </div>
        </>
      )}
    </article>
  );
}

export { Item };
